<div class="participant-item-container">
  <mat-card class="participant-card warn-300">
    <mat-card-header class="participant-card-header">
      <mat-card-title-group>
        <mat-card-title
          >{{ participant.fullName }} - {{ participant.email }}</mat-card-title
        >
      </mat-card-title-group>
    </mat-card-header>
    <mat-card-content class="participant-card-content">
      @for(fact of executionFacts; track fact) {
      <mat-card class="fact-card warn-100">
        <mat-card-header class="fact-card-header">
          <mat-card-title-group>
            <mat-card-title class="fact-card-title"
              ><ng-scrollbar>
                <span>{{
                  fact.templateName ? fact.templateName : fact.description
                }}</span>
              </ng-scrollbar>
            </mat-card-title>
            <mat-card-subtitle>{{
              fact.startTime | date : "MMMM dd hh:mm"
            }}{{
              fact.finishTime | date : " - MMMM dd hh:mm"
            }}</mat-card-subtitle>
          </mat-card-title-group>
        </mat-card-header>
        <mat-card-actions class="fact-card-actions">
          <div>
            @if(userAllowedToFinishFact) {
            <button
              mat-raised-button
              color="accent"
              aria-label="'Finish ' + fact.description"
              type="button"
              (click)="finishExecutionFact(fact)"
              class="fact-card-actions-item"
            >
              Finish
            </button>
            } @if(!userAllowedToFinishFact) {
            <button
              mat-raised-button
              color="primary"
              aria-label="'Finish ' + fact.description"
              type="button"
              (click)="testifyExecutionFact(fact)"
              class="fact-card-actions-item"
            >
              Testify
            </button>
            }
          </div>
        </mat-card-actions>
      </mat-card>
      }
    </mat-card-content>
    <mat-card-actions class="participant-actions">
      <button
        mat-raised-button
        type="button"
        color="default"
        (click)="emitParticipantId()"
      >
        View execution facts
      </button>
    </mat-card-actions>
  </mat-card>
</div>
