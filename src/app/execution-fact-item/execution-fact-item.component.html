<mat-card
  [ngClass]="executionFact.finishTime !== null ? 'primary-300' : 'warn-300'"
>
  <mat-card-header>
    <mat-card-title>
      <div>Executor: {{ executionFact.executorFullName }}</div>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="description">
      <span>Description: {{ executionFact.description }}</span>
      <div>
        <div>
          Started at:
          {{ executionFact.startTime | date : "EEEE, MM/dd/y, hh:mm:ss" }}
        </div>
        @if(executionFact.finishTime !== null) {
        <div>
          Ended at:
          {{ executionFact.finishTime | date : "EEEE, MM/dd/y, hh:mm:ss" }}
        </div>
        }
      </div>
      @if(executionFact.templateName) {
      <span>Template name: {{ executionFact.templateName }}</span>
      }
      <div>Witnesses:</div> 
      <mat-chip-set aria-label="Testimonies">
        @for(testimony of executionFact.testimonies; track $index) {
        <mat-chip>
          <a href="#">{{ testimony.witnessFullName }}</a>
        </mat-chip>
        }
      </mat-chip-set>
    </div>
  </mat-card-content>

  <mat-card-actions>
    @if(executionFact.finishTime === null) {
    <button
      type="button"
      mat-button
      (click)="finish()"
      [disabled]="!userAllowedToChangeFacts"
    >
      Finish
    </button>
    } @if(!userAllowedToChangeFacts) {
    <button type="button" mat-button (click)="testify()">Testify</button>
    }
  </mat-card-actions>
</mat-card>
